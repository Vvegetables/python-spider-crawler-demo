#coding=utf-8
import re
k = re.match(r'[^/]+','hello world')
print k.group(0) #() == 0, () == 1 ...

def _re_flatten(p):
    ''' Turn all capturing groups in a regular expression pattern into
        non-capturing groups. '''
    if '(' not in p: return p
    return re.sub(r'(\\*)(\(\?P<[^>]+>|\((?!\?))',
        flatten, p)
    
def flatten(m):
    print m.group(0),m.group(1),m.group(2)
    return m.group(0) if len(m.group(1)) % 2 else m.group(1) + '(?:'

#(?:)匹配但是不捕获
    
# k2 = re.match('(?=hopeful)hope','hopeful')
# print k2.groups()
# 
# k2 = re.match('hope(?=ful)','hopeful')
# print k2.group()

print _re_flatten('(helloworld,(jj)),(kk)ii')

# m = re.match(r'(\\*)','\\\\')(?!\?)
# print m.group()


# m = re.search('\\\\','(\\\\)') #== m = re.search(r'\\','(\)')
# print m.group(0)


# print r'\\'